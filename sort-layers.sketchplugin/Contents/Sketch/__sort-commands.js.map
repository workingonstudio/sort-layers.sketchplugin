{"version":3,"file":"__sort-commands.js","mappings":"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","sources":["webpack://exports/webpack/bootstrap","webpack://exports/./src/sort-commands.js","webpack://exports/external \"sketch\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/sort-commands.js\");\n","import sketch from \"sketch\";\n\n/**\n * Get the selected layers or all layers in the current page\n */\nfunction getLayersToSort() {\n  const doc = sketch.getSelectedDocument();\n  const selectedLayers = doc.selectedLayers;\n\n  if (selectedLayers.isEmpty) {\n    sketch.UI.message(\n      \"No layers selected. Select layers or artboards to sort.\"\n    );\n    return null;\n  }\n\n  const layers = selectedLayers.layers;\n\n  // Check if we have a valid parent to sort within\n  if (layers.length === 0) {\n    return null;\n  }\n\n  return layers;\n}\n\n/**\n * Sort layers by their index within the parent\n * This function reorders layers in the layer list\n * Optimized version that batches operations\n */\nfunction sortLayers(layers, compareFn) {\n  if (!layers || layers.length === 0) {\n    return;\n  }\n\n  // Get the parent (assuming all layers have the same parent)\n  const parent = layers[0].parent;\n\n  // Sort the layers array - create a copy using slice\n  const sortedLayers = layers.slice().sort(compareFn);\n\n  // Find the minimum current index to know where to insert\n  let minIndex = parent.layers.length;\n  for (let i = 0; i < layers.length; i++) {\n    if (layers[i].index < minIndex) {\n      minIndex = layers[i].index;\n    }\n  }\n\n  // Move all layers to the back first (in reverse to avoid conflicts)\n  for (let i = sortedLayers.length - 1; i >= 0; i--) {\n    sortedLayers[i].moveToBack();\n  }\n\n  // Now move them to their final positions from back to front\n  for (let i = 0; i < sortedLayers.length; i++) {\n    const targetIndex = minIndex + i;\n    sortedLayers[i].index = targetIndex;\n  }\n}\n\n/**\n * Sort by Name (A→Z)\n * Note: Reversed because Sketch layer list shows index 0 at bottom\n */\nexport function sortByNameAsc() {\n  const layers = getLayersToSort();\n  if (!layers) return;\n\n  sortLayers(layers, (a, b) => {\n    return b.name.localeCompare(a.name);\n  });\n\n  sketch.UI.message(`Sorted ${layers.length} layers by name (A→Z)`);\n}\n\n/**\n * Sort by Name (Z→A)\n * Note: Reversed because Sketch layer list shows index 0 at bottom\n */\nexport function sortByNameDesc() {\n  const layers = getLayersToSort();\n  if (!layers) return;\n\n  sortLayers(layers, (a, b) => {\n    return a.name.localeCompare(b.name);\n  });\n\n  sketch.UI.message(`Sorted ${layers.length} layers by name (Z→A)`);\n}\n\n/**\n * Sort by Y Position (Top to Bottom)\n * Note: Reversed because Sketch layer list shows index 0 at bottom\n */\nexport function sortByPositionY() {\n  const layers = getLayersToSort();\n  if (!layers) return;\n\n  sortLayers(layers, (a, b) => {\n    return b.frame.y - a.frame.y;\n  });\n\n  sketch.UI.message(\n    `Sorted ${layers.length} layers by Y position (top to bottom)`\n  );\n}\n\n/**\n * Sort by X Position (Left to Right)\n * Note: Reversed because Sketch layer list shows index 0 at bottom\n */\nexport function sortByPositionX() {\n  const layers = getLayersToSort();\n  if (!layers) return;\n\n  sortLayers(layers, (a, b) => {\n    return b.frame.x - a.frame.x;\n  });\n\n  sketch.UI.message(\n    `Sorted ${layers.length} layers by X position (left to right)`\n  );\n}\n\n/**\n * Sort by Layer Type\n * Note: Reversed because Sketch layer list shows index 0 at bottom\n */\nexport function sortByType() {\n  const layers = getLayersToSort();\n  if (!layers) return;\n\n  // Define type priority\n  const typePriority = {\n    Artboard: 1,\n    SymbolMaster: 2,\n    Group: 3,\n    Shape: 4,\n    ShapePath: 5,\n    Text: 6,\n    Image: 7,\n    SymbolInstance: 8,\n    HotSpot: 9,\n    Slice: 10,\n  };\n\n  sortLayers(layers, (a, b) => {\n    const priorityA = typePriority[a.type] || 99;\n    const priorityB = typePriority[b.type] || 99;\n\n    if (priorityA !== priorityB) {\n      return priorityB - priorityA; // Reversed\n    }\n\n    // If same type, sort by name (also reversed)\n    return b.name.localeCompare(a.name);\n  });\n\n  sketch.UI.message(`Sorted ${layers.length} layers by type`);\n}\n\n/**\n * Reverse the order of selected layers\n */\nexport function reverseOrder() {\n  const layers = getLayersToSort();\n  if (!layers) return;\n\n  sortLayers(layers, (a, b) => {\n    return a.index - b.index; // This one stays the same to actually reverse\n  });\n\n  sketch.UI.message(`Reversed order of ${layers.length} layers`);\n}\n","module.exports = require(\"sketch\");"],"names":["getLayersToSort","doc","sketch","getSelectedDocument","selectedLayers","isEmpty","UI","message","layers","length","sortLayers","compareFn","parent","sortedLayers","slice","sort","minIndex","i","index","moveToBack","targetIndex","sortByNameAsc","a","b","name","localeCompare","concat","sortByNameDesc","sortByPositionY","frame","y","sortByPositionX","x","sortByType","typePriority","Artboard","SymbolMaster","Group","Shape","ShapePath","Text","Image","SymbolInstance","HotSpot","Slice","priorityA","type","priorityB","reverseOrder"],"sourceRoot":""}